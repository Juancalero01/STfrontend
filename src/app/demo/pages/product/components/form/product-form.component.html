<form class="flex flex-wrap gap-4" [formGroup]="productForm">
  <div class="flex flex-column w-full">
    <label>CLIENTE</label>
    <p-dropdown
      [options]="clients"
      formControlName="client"
      optionLabel="taxpayerName"
      optionValue="id"
      [filter]="true"
      placeholder="Seleccionar cliente del producto"
      styleClass="w-full"
      [ngClass]="{ 'ng-invalid ng-dirty': validateForm('client') }"
      [showClear]="true"
    >
    </p-dropdown>
    <small *ngIf="validateForm('client')" class="p-error">
      Campo requerido*
    </small>
  </div>

  <div class="flex flex-column w-full">
    <label>TIPO DE PRODUCTO</label>
    <p-dropdown
      [options]="productTypes"
      formControlName="productType"
      optionLabel="name"
      optionValue="id"
      [filter]="true"
      placeholder="Seleccionar tipo de producto del cliente"
      styleClass="w-full"
      [ngClass]="{ 'ng-invalid ng-dirty': validateForm('productType') }"
      (onChange)="onProductTypeChange()"
      [showClear]="true"
    >
    </p-dropdown>
    <small *ngIf="validateForm('productType')" class="p-error">
      Campo requerido*
    </small>
  </div>

  <div class="flex flex-column w-full">
    <label for="serial">NÚMERO DE SERIE</label>
    <input
      id="serial"
      type="text"
      pInputText
      formControlName="serial"
      placeholder="Ingresar número de serie del producto"
      class="w-full"
      [ngClass]="{ 'ng-invalid ng-dirty': validateForm('serial') }"
      maxlength="10"
      [pKeyFilter]="numberWithHyphen"
    />
    <small *ngIf="validateForm('serial')" class="p-error">
      Campo requerido*
    </small>
  </div>
  <div class="flex flex-column w-full">
    <label for="reference"
      >NÚMERO DE REMITO (Remito del envio del producto al cliente)</label
    >
    <input
      id="reference"
      type="text"
      pInputText
      formControlName="reference"
      placeholder="Ingresar número de remito del producto"
      class="w-full"
      [pKeyFilter]="alphaNumberUppercase"
    />
  </div>

  <div class="flex flex-column w-full">
    <label
      >FECHA DE DESPACHO (Fecha en la que se envio el producto al
      cliente)</label
    >
    <p-calendar
      formControlName="deliveryDate"
      dateFormat="dd-mm-yy"
      styleClass="w-full"
      appendTo="body"
      placeholder="Seleccionar o ingresar fecha de despacho del producto"
      [ngClass]="{ 'ng-invalid ng-dirty': validateForm('deliveryDate') }"
      [showClear]="true"
    >
    </p-calendar>
    <small *ngIf="validateForm('deliveryDate')" class="p-error">
      Campo requerido*
    </small>
  </div>

  <div class="flex justify-content-end gap-2 w-full">
    <p-button
      label="SALIR DEL FORMULARIO"
      styleClass="p-button-secondary p-button-text"
      (onClick)="closeForm()"
    />
    <p-button
      [label]="buttonLabel"
      [disabled]="productForm.invalid || !getChangesToUpdate()"
      styleClass="p-button-info p-button-text "
      (onClick)="submitForm()"
    />
  </div>
</form>
